추가된 sql문 & 수정사항이나 추가한 것들 기록

<<기록으로 안남기고 혼자 했던 것들>>
1. Oracle database를 통해 ERD로부터 나온 것들 테이블만들고 필요한 속성, 제약 다 해놨음. 
2. DAO, VO들 jdbc template 이용해서 기본적인 것들 다 구축했음. 진행하면서 추가되거나 수정되는게 있을거임.
3. 프로토타입으로 나온 로그인, 회원가입 HTML을 가지고 로그인, 회원가입 JSP 기능 구현 예외처리까지 해서 했음.


<<19.08.04 ~ 06 기록>>
---------------------------------------------------------------------------------------
1. USERT에서 컬럼명이 '이름'으로 되어있었음 => name으로 수정.<<<<해결>>>>
---------------------------------------------------------------------------------------
2. 원래 아이디와 이메일을 따로 구분하여 했었는데, 둘을 같은 것으로 보기로 했음. =>email속성 삭제.
	=>회원가입 폼 수정. 자바스크립트 email 유효성검사 삭제
	=>회원가입 때 아이디 검사 과정 수정해야함...ID유효성 검사 정규식 수정했음.
	=>비밀번호 정규식 수정.<<<<해결>>>>
---------------------------------------------------------------------------------------	
3. 각 테이블에 대한 DAO 와 RowMapper 추가했음.<<<<해결>>>>
	=>PostVO 삭제하고 PostingVO로 교체했음. 이유는 USER 테이블과 POST테이블의 JOIN의 결과 중 
	  게시판에서 보여줄 필요한 컬럼들의 데이터를 담아줄 VO가 필요했기때문...그냥 PostVO는 
	  단지 POST 테이블의 데이터만 가지고 있었음.
---------------------------------------------------------------------------------------	  
4. 닉네임도 정규식을 적용하자.<<<<해결>>>> 
	- 이유는 너무 길게 써서 닉네임 데이터 크기를 벗어나는 경우를 방지하기 위해서.
---------------------------------------------------------------------------------------	
5. '뒤로가기' <<<< 미 해결>>>> ==> 시온이가 <<<<해결>>>> 했음^^
	- 회원가입하고 다음페이지 넘어간 후 뒤로가기눌렀을 때 회원가입 페이지 어떻게할지
	- 로그인하고 메인페이지로 넘어간 후 다시 뒤로 갔을 때 로그인하는 페이지가 나와야하는지 어떻게 하지?
---------------------------------------------------------------------------------------	
6. 한글로 작성한 input 들 깨져서 들어감 => 수정은? <<<<해결>>>>
	- <%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
	- <%request.setCharacterEncoding("UTF-8"); %>
	문장을 JSP 페이지 상단에 배치시켜주면 되더라.
---------------------------------------------------------------------------------------	
7. 갑자기 생긴 또다른 문제... 왜 USERT에 아무 레코드도 없는데 회원가입할 때 아이디 중복검사에서
   이미 있는 아이디라고 나오는거지..?<<<<해결>>>>
    => 데이터베이스 COMMIT을 안해줘서 데이터 select시 안보이는거때매 시간잡아먹었음...
	=> COMMIT의 중요성을 느끼게됨
---------------------------------------------------------------------------------------   
8. 아이디 중복검사 시에도 유효성검사 과정을 추가해줘야함 .<<<<해결>>>>
---------------------------------------------------------------------------------------
9. 결제 페이지 VO 수정 및 테이블 속성 추가 : 은행, 카드번호, 유효기간 월/년 <<<< 미 해결(안 급함)>>>>
	=> 수민이가 페이팔 결제 되는 것처럼 구현해보겠다고 했음. 
---------------------------------------------------------------------------------------
10. 어드민 계정일 때, 일반 사용자일 때 구분 지어서 화면에 보여져야 할 것과 안보여야 할 것을 구분
	=> 어드민 계정은 DB에서 직접 만들어주는거로 하고 사이트에서 가입하는 모든 아이디는 일반 사용자
		로 분류되게 할 것이다. (어드민:1 , 일반 사용자 :2) 프로퍼티 네임 'type'
	=> insert into usert values (0,'admin','1q2w3e4r','x','admin',9999999,5000,1,'admin',1);
	=> USERT 테이블 type 속성 추가했고, 따로 제약조건은 안걸어줬고, DAO, VO, RowMapper에서 type관련된거
       추가시켰고, UserDAO에서 변경된것으로는 loginCheck()에서 sql문에서 셀렉되는 컬럼을 pw에서 pw,type으로 변경시켜서
	   DB에서 id가 있나 확인하고 비번이 일치하는 레코드가 있다면 tpye값을 리턴하도록 수정했다. 그리고나서 그것을 
	   Login_process2.jsp에서 리턴받아서 tpye이 1이든 2이든 같은 사용자이기에 session을 사용해서
	   아이디와 type을 저장토록 해놨다. <<<<해결>>>>
---------------------------------------------------------------------------------------
11. 마이페이지에 들어갈 것들 : 사용자 정보, 결제 정보, 그동안 올렸던 글 정보? 
	
---------------------------------------------------------------------------------------

    
---------------------------------------------------------------------------------------
<<추가된 SQL>>
ALTER TABLE usert ADD(type NUMBER(1)); -- 사용자구분 컬럼 추가시켰음.
alter table usert modify type not null;-- NOT NULL 제약 추가

insert into usert values (0,'admin','1q2w3e4r','x','admin',9999999,5000,1,'admin',1);--우리 DB에 디폴트로 들어가있도록하자


















